\> æœ¬æ–‡ç”± \[ç®€æ‚¦ SimpRead\](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ \[www.jb51.net\](https://www.jb51.net/article/190730.htm)

**Swagger çš„ä»‹ç»**

ğŸ”¶ä½ å¯èƒ½å°è¯•è¿‡å†™å®Œä¸€ä¸ªæ¥å£åï¼Œè‡ªå·±å»åˆ›å»ºæ¥å£æ–‡æ¡£ï¼Œæˆ–è€…ä¿®æ”¹æ¥å£åä¿®æ”¹æ¥å£æ–‡æ¡£ã€‚å¤šäº†ä¹‹åï¼Œä½ è‚¯å®šä¼šå‘ç”Ÿä¸€ä¸ªæ“ä½œï¼Œé‚£å°±æ˜¯å¿˜è®°äº†ä¿®æ”¹æ–‡æ¡£æˆ–è€…åˆ›å»ºæ–‡æ¡£ï¼ˆé™¤éä½ ä»¬å…¬å¸æŠŠæ¥å£æ–‡æ¡£å’Œå†™æ¥å£è¦æ±‚å¾—å¾ˆç´§å¯†ğŸ˜“å¿˜è®°å†™æ–‡æ¡£å°±æ‰£å·¥èµ„ï¼Ÿï¼Œå¦åˆ™ä¸¤ä¸ªåˆ†ç¦»çš„å·¥ä½œæ€»æ˜¯æœ‰å¯èƒ½é—æ¼çš„ï¼‰ã€‚è€Œ swagger å°±æ˜¯ä¸€ä¸ªåœ¨ä½ å†™æ¥å£çš„æ—¶å€™è‡ªåŠ¨å¸®ä½ ç”Ÿæˆæ¥å£æ–‡æ¡£çš„ä¸œè¥¿ï¼Œåªè¦ä½ éµå¾ªå®ƒçš„è§„èŒƒå¹¶å†™ä¸€äº›æ¥å£çš„è¯´æ˜æ³¨è§£å³å¯ã€‚

**ä¼˜ç‚¹ä¸ç¼ºç‚¹**

ğŸ”¶ä¼˜ç‚¹ï¼š

*   è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼Œåªéœ€è¦åœ¨æ¥å£ä¸­ä½¿ç”¨æ³¨è§£è¿›è¡Œæ ‡æ³¨ï¼Œå°±èƒ½ç”Ÿæˆå¯¹åº”çš„æ¥å£æ–‡æ¡£ã€‚
*   è‡ªåŠ¨æ›´æ–°æ–‡æ¡£ï¼Œç”±äºæ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œæ‰€ä»¥å¦‚æœä½ ä¿®æ”¹äº†æ¥å£ï¼Œæ–‡æ¡£ä¹Ÿä¼šè‡ªåŠ¨å¯¹åº”ä¿®æ”¹ï¼ˆå¦‚æœä½ ä¹Ÿæ›´æ–°äº†æ³¨è§£çš„è¯ï¼‰ã€‚è¿™æ ·å°±ä¸ä¼šå‘é€æˆ‘ä¿®æ”¹äº†æ¥å£ï¼Œå´å¿˜è®°æ›´æ–°æ¥å£æ–‡æ¡£çš„æƒ…å†µã€‚
*   æ”¯æŒåœ¨çº¿è°ƒè¯•ï¼Œswagger æä¾›äº†åœ¨çº¿è°ƒç”¨æ¥å£çš„åŠŸèƒ½ã€‚  
    

ğŸ”¶ç¼ºç‚¹ï¼š

*   ä¸èƒ½åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ï¼Œæ‰€ä»¥ä»–æš‚æ—¶ä¸èƒ½å¸®ä½ å¤„ç†å®Œæ‰€æœ‰çš„äº‹æƒ…ã€‚ä»–åªèƒ½æä¾›ä¸€ä¸ªç®€å•çš„åœ¨çº¿è°ƒè¯•ï¼Œå¦‚æœä½ æƒ³å­˜å‚¨ä½ çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ Postman æˆ–è€… YAPI è¿™æ ·æ”¯æŒåˆ›å»ºæµ‹è¯•ç”¨æˆ·çš„åŠŸèƒ½ã€‚
*   è¦éµå¾ªä¸€äº›è§„èŒƒï¼Œå®ƒä¸æ˜¯ä»»æ„è§„èŒƒçš„ã€‚æ¯”å¦‚è¯´ï¼Œä½ å¯èƒ½ä¼šè¿”å›ä¸€ä¸ª json æ•°æ®ï¼Œè€Œè¿™ä¸ªæ•°æ®å¯èƒ½æ˜¯ä¸€ä¸ª Map æ ¼å¼çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ­¤æ—¶ä¸èƒ½æ ‡æ³¨è¿™ä¸ª Map æ ¼å¼çš„è¿”å›æ•°æ®çš„æ¯ä¸ªå­—æ®µçš„è¯´æ˜ï¼Œè€Œå¦‚æœå®ƒæ˜¯ä¸€ä¸ªå®ä½“ç±»çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ ‡æ³¨ç±»çš„å±æ€§æ¥ç»™è¿”å›å­—æ®µåŠ è¯´æ˜ã€‚ä¹Ÿæ¯”å¦‚è¯´ï¼Œå¯¹äº swaggerï¼Œä¸æ¨èåœ¨ä½¿ç”¨ GET æ–¹å¼æäº¤æ•°æ®çš„æ—¶å€™è¿˜ä½¿ç”¨ Bodyï¼Œä»…æ¨èä½¿ç”¨ query å‚æ•°ã€header å‚æ•°æˆ–è€…è·¯å¾„å‚æ•°ï¼Œå½“ç„¶äº†è¿™ä¸ªé™åˆ¶åªé€‚ç”¨äºåœ¨çº¿è°ƒè¯•ã€‚
*   æ²¡æœ‰æ¥å£æ–‡æ¡£æ›´æ–°ç®¡ç†ï¼Œè™½ç„¶ä¸€ä¸ªæ¥å£æ›´æ–°ä¹‹åï¼Œå¯èƒ½ä¸ä¼šå…³å¿ƒæ—§ç‰ˆçš„æ¥å£ä¿¡æ¯ï¼Œä½†ä½  â€œå¯èƒ½â€ æƒ³çœ‹çœ‹æ—§ç‰ˆçš„æ¥å£ä¿¡æ¯ï¼Œä¾‹å¦‚æœ‰äº›ç°åº¦æ›´æ–°å‘å¸ƒçš„æ—¶å€™å¯èƒ½è¿˜ä¼šå…³å¿ƒæ—§ç‰ˆçš„æ¥å£ã€‚é‚£ä¹ˆæ­¤æ—¶åªèƒ½ç”±åç«¯å»çœ‹çœ‹æœ‰æ²¡æœ‰æ³¨é‡Šç•™ä¸‹äº†ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘æ¥å£æ–‡æ¡£å¤§æ›´æ–°çš„æ—¶å€™æ³¨é‡Šæ—§ç‰ˆçš„ï¼Œç„¶åå†™ä¸‹æ–°ç‰ˆçš„ã€‚ã€å½“ç„¶è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡å¯¼å‡ºæ¥å£æ–‡æ¡£æ¥å¯¹æ¯”ã€‚ã€‘
*   è™½ç„¶ç°åœ¨ Java çš„å®ä½“ç±»ä¸­æœ‰ä¸å°‘æ¨¡å‹ï¼Œpo,dto,vo ç­‰ï¼Œæ¨¡å‹çš„åŒºåˆ†æ˜¯ä¸ºäº†å±è”½ä¸€äº›å¤šä½™å‚æ•°ï¼Œæ¯”å¦‚ä¸€ä¸ªç”¨æˆ·ç™»å½•çš„æ—¶å€™åªéœ€è¦ username,passwordï¼Œä½†æŸ¥æƒé™çš„æ—¶å€™éœ€è¦è¿æ¥ä¸Šæƒé™è¡¨çš„ä¿¡æ¯ï¼Œè€Œå¦‚æœä¸Šè¿°ä¸¤ä¸ªæ“ä½œéƒ½æ˜¯ä½¿ç”¨äº† User è¿™ä¸ªå®ä½“çš„è¯ï¼Œåœ¨æ–‡æ¡£ä¸­å°±ä¼šè‡ªåŠ¨ç”Ÿæˆäº†å¤šä½™çš„ä¿¡æ¯ï¼Œè¿™å°±è¦æ±‚äº†ä½ åŸºäºæ¨¡å‹æ¥åˆ›å»ºå¤šä¸ªå®ä½“ç±»ï¼Œæ¯”å¦‚ç™»å½•çš„æ—¶å€™ä¸€ä¸ª LoginFormï¼Œéœ€è¦ç”¨æˆ· - æƒé™ç­‰ä¿¡æ¯çš„æ—¶å€™æ‰ä½¿ç”¨ User ç±»ã€‚ï¼ˆå½“ç„¶äº†ï¼Œè¿™ä¸ªé—®é¢˜ç­‰ä½ ä¼š swagger ä¹‹åä½ å°±å¤§æ¦‚å°±ä¼šæ€ä¹ˆè§„é¿è¿™ä¸ªé—®é¢˜äº†ã€‚ï¼‰  
    

ğŸ˜“ä¸Šé¢çš„ç¼ºç‚¹å¥½åƒå†™çš„æœ‰ç‚¹å¤šï¼Œä½ å¯èƒ½ä¼šè§‰å¾— swagger è¿™ä¸ªå‘æœ‰ç‚¹å¤§ã€‚ä½†å…¶å®ä¸»è¦æ˜¯è§„èŒƒé—®é¢˜ï¼Œè€Œè§„èŒƒé—®é¢˜æœ‰æ—¶å€™åˆä¼šæé«˜ä½ çš„ä»£ç è§„èŒƒæ€§ï¼Œè¿™ä¸ªå°±è§ä»è§æ™ºäº†ï¼Œä½ ä»¥å‰å¯èƒ½ä»€ä¹ˆæ¥å£çš„å‚æ•°éƒ½ä½¿ç”¨ä¸€ä¸ªç±»ï¼Œè€Œç°åœ¨ swagger è¦æ±‚ä½ åˆ†å¼€åï¼ŒæŸç§å±‚æ¬¡ä¸Šæé«˜äº†ä½ çš„ä»£ç è§„èŒƒæ€§ã€‚

ğŸ”¶æ³¨ï¼šä»¥ä¸‹ä»£ç ç¤ºä¾‹åŸºäº Spring Bootã€‚å®Œæ•´ä»£ç å¯ä»¥å‚è€ƒï¼š[swagger-demo](https://github.com/alprogor/swagger-demo)

**æ·»åŠ  swagger**

ğŸ’¡è¿™é‡Œå…ˆè®²æ·»åŠ  swaggerï¼Œä¹Ÿå°±æ˜¯å…ˆæ•´åˆè¿›æ¥ï¼Œè‡³äºæ€ä¹ˆä½¿ç”¨ï¼Œä¸‹é¢çš„ â€œåœºæ™¯â€ ä¸­å†è®²è§£ã€‚

**1\. æ·»åŠ ä¾èµ–åŒ…ï¼š**

â—æ³¨æ„ï¼Œè¿™é‡Œçš„å‰ææ˜¯å·²ç»å¯¼å…¥äº† spring boot çš„ web åŒ…ã€‚

```
<dependency>
Â <groupId>io.springfox</groupId>
Â <artifactId>springfox-swagger2</artifactId>
Â <version>2.9.2</version>
</dependency>
<dependency>
Â <groupId>io.springfox</groupId>
Â <artifactId>springfox-swagger-ui</artifactId>
Â <version>2.9.2</version>
</dependency>
```

**2\. é…ç½® Swagger:**

è¦ä½¿ç”¨ swaggerï¼Œæˆ‘ä»¬å¿…é¡»å¯¹ swagger è¿›è¡Œé…ç½®ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª swagger çš„é…ç½®ç±»ï¼Œæ¯”å¦‚å¯ä»¥å‘½åä¸º SwaggerConfig.java

```
package com.example.config;
Â 
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2;
Â 
Â 
@Configuration // æ ‡æ˜æ˜¯é…ç½®ç±»
@EnableSwagger2 //å¼€å¯swaggeråŠŸèƒ½
public class SwaggerConfig {
Â @Bean
Â public Docket createRestApi() {
Â return new Docket(DocumentationType.SWAGGER\_2) // DocumentationType.SWAGGER\_2 å›ºå®šçš„ï¼Œä»£è¡¨swagger2
//Â  .groupName("åˆ†å¸ƒå¼ä»»åŠ¡ç³»ç»Ÿ") // å¦‚æœé…ç½®å¤šä¸ªæ–‡æ¡£çš„æ—¶å€™ï¼Œé‚£ä¹ˆéœ€è¦é…ç½®groupNameæ¥åˆ†ç»„æ ‡è¯†
Â Â .apiInfo(apiInfo()) // ç”¨äºç”ŸæˆAPIä¿¡æ¯
Â Â .select() // select()å‡½æ•°è¿”å›ä¸€ä¸ªApiSelectorBuilderå®ä¾‹,ç”¨æ¥æ§åˆ¶æ¥å£è¢«swaggeråšæˆæ–‡æ¡£
Â Â .apis(RequestHandlerSelectors.basePackage("com.example.controller")) // ç”¨äºæŒ‡å®šæ‰«æå“ªä¸ªåŒ…ä¸‹çš„æ¥å£
Â Â .paths(PathSelectors.any())// é€‰æ‹©æ‰€æœ‰çš„API,å¦‚æœä½ æƒ³åªä¸ºéƒ¨åˆ†APIç”Ÿæˆæ–‡æ¡£ï¼Œå¯ä»¥é…ç½®è¿™é‡Œ
Â Â .build();
Â }
Â 
Â /\*\*
Â \* ç”¨äºå®šä¹‰APIä¸»ç•Œé¢çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å¯ä»¥å£°æ˜æ‰€æœ‰çš„APIçš„æ€»æ ‡é¢˜ã€æè¿°ã€ç‰ˆæœ¬
Â \* @return
Â \*/
Â private ApiInfo apiInfo() {
Â return new ApiInfoBuilder()
Â Â .title("XXé¡¹ç›®API") // å¯ä»¥ç”¨æ¥è‡ªå®šä¹‰APIçš„ä¸»æ ‡é¢˜
Â Â .description("XXé¡¹ç›®SwaggerAPIç®¡ç†") // å¯ä»¥ç”¨æ¥æè¿°æ•´ä½“çš„API
Â Â .termsOfServiceUrl("") // ç”¨äºå®šä¹‰æœåŠ¡çš„åŸŸå
Â Â .version("1.0") // å¯ä»¥ç”¨æ¥å®šä¹‰ç‰ˆæœ¬ã€‚
Â Â .build(); //
Â }
}
```

**3\. æµ‹è¯•**

è¿è¡Œæˆ‘ä»¬çš„ Spring Boot é¡¹ç›®ï¼Œï¼ˆæˆ‘é»˜è®¤æ˜¯ 8080 ç«¯å£ï¼Œå¦‚æœä½ ä¸ä¸€æ ·ï¼Œè¯·æ³¨æ„ä¿®æ”¹åç»­çš„ urlï¼‰ï¼Œè®¿é—®`http://localhost:8080/swagger-ui.html`  
ç„¶åä½ å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå¦‚ä¸‹çš„ç•Œé¢ï¼Œç”±äºæˆ‘ä»¬æš‚æ—¶æ²¡æœ‰é…ç½®æ¥å£æ•°æ®ï¼Œæ‰€ä»¥ä¸‹é¢æ˜¾ç¤º`No operations defined in spec!`

![](https://img.jbzj.com/file_images/article/202007/2020071411073045.png)

ğŸ’¡ä¸‹é¢æˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•å®šä¹‰æ¥å£ï¼Œä»¥åŠåœ¨ swagger UI ç•Œé¢ä¸­çš„å†…å®¹ã€‚

åœºæ™¯ï¼š

**å®šä¹‰æ¥å£ç»„**

æ¥å£æœ‰æ—¶å€™åº”è¯¥æ˜¯åˆ†ç»„çš„ï¼Œè€Œä¸”å¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨ä¸€ä¸ª controller ä¸­çš„ï¼Œæ¯”å¦‚ç”¨æˆ·ç®¡ç†ç›¸å…³çš„æ¥å£åº”è¯¥éƒ½åœ¨ UserController ä¸­ï¼Œé‚£ä¹ˆä¸åŒçš„ä¸šåŠ¡çš„æ—¶å€™ï¼Œåº”è¯¥å®šä¹‰ / åˆ’åˆ†ä¸åŒçš„æ¥å£ç»„ã€‚æ¥å£ç»„å¯ä»¥ä½¿ç”¨`@Api`æ¥åˆ’åˆ†ã€‚  
æ¯”å¦‚ï¼š

```
@Api(tags = "è§’è‰²ç®¡ç†") // tagsï¼šä½ å¯ä»¥å½“ä½œæ˜¯è¿™ä¸ªç»„çš„åå­—ã€‚
@RestController
public class RoleController {
}
```

å’Œ

```
@Api(tags = "ç”¨æˆ·ç®¡ç†") // tagsï¼šä½ å¯ä»¥å½“ä½œæ˜¯è¿™ä¸ªç»„çš„åå­—ã€‚
@RestController
public class UserController {
}
```

ğŸ”µä½ ä¹Ÿå¯ä»¥ç†è§£æˆåŸºäº tags æ¥åˆ†ç»„ï¼Œå°±å¥½åƒä¸€äº›æ–‡ç« é‡Œé¢çš„æ ‡ç­¾ä¸€æ ·ï¼Œä½¿ç”¨æ ‡ç­¾æ¥åˆ†ç±»ã€‚  
ğŸ”µå¦‚æœè¿™ä¸ª Controller ä¸‹ï¼ˆæ¥å£ç»„ï¼‰ä¸‹é¢æ²¡æœ‰æ¥å£ï¼Œé‚£ä¹ˆåœ¨ swagger ui ä¸­æ˜¯ä¸ä¼šæ˜¾ç¤ºçš„ï¼Œå¦‚æœæœ‰çš„è¯å°±ä¼šè¿™æ ·æ˜¾ç¤ºï¼š

![](https://img.jbzj.com/file_images/article/202007/2020071411073046.png)

**å®šä¹‰æ¥å£**

ä½¿ç”¨äº†`@Api`æ¥æ ‡æ³¨ä¸€ä¸ª Controller ä¹‹åï¼Œå¦‚æœä¸‹é¢æœ‰æ¥å£ï¼Œé‚£ä¹ˆå°±ä¼šé»˜è®¤ç”Ÿæˆæ–‡æ¡£ï¼Œä½†æ²¡æœ‰æˆ‘ä»¬è‡ªå®šä¹‰çš„è¯´æ˜ï¼š

```
@Api(tags = "ç”¨æˆ·ç®¡ç†")
@RestController
public class UserController {
Â // æ³¨æ„ï¼Œå¯¹äºswaggerï¼Œä¸è¦ä½¿ç”¨@RequestMappingï¼Œ
Â // å› ä¸º@RequestMappingæ”¯æŒä»»æ„è¯·æ±‚æ–¹å¼ï¼Œswaggerä¼šä¸ºè¿™ä¸ªæ¥å£ç”Ÿæˆ7ç§è¯·æ±‚æ–¹å¼çš„æ¥å£æ–‡æ¡£
Â @GetMapping("/info") 
Â public String info(String id){
Â return "aaa";
Â }
}
```

![](https://img.jbzj.com/file_images/article/202007/2020071411073047.png)

![](https://img.jbzj.com/file_images/article/202007/2020071411073048.png)

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`@ApiOperation`æ¥æè¿°æ¥å£ï¼Œæ¯”å¦‚ï¼š

```
@ApiOperation(value = "ç”¨æˆ·æµ‹è¯•",notes = "ç”¨æˆ·æµ‹è¯•notes")
Â @GetMapping("/test")
Â public String test(String id){
Â return "test";
Â }
```

![](https://img.jbzj.com/file_images/article/202007/2020071411073149.png)

å¸¸ç”¨é…ç½®é¡¹ï¼š

*   valueï¼šå¯ä»¥å½“ä½œæ˜¯æ¥å£çš„ç®€ç§° notesï¼šæ¥å£çš„æè¿°
*   tagsï¼šå¯ä»¥é¢å¤–å®šä¹‰æ¥å£ç»„ï¼Œæ¯”å¦‚è¿™ä¸ªæ¥å£å¤–å±‚å·²ç»æœ‰`@Api(tags = "ç”¨æˆ·ç®¡ç†")`ï¼Œå°†æ¥å£åˆ’åˆ†åˆ°äº† â€œç”¨æˆ·ç®¡ç†â€ ä¸­ï¼Œä½†ä½ å¯ä»¥é¢å¤–çš„ä½¿ç”¨
*   tagsï¼Œä¾‹å¦‚`tags = "è§’è‰²ç®¡ç†"`è®©è§’è‰²ç®¡ç†ä¸­ä¹Ÿæœ‰è¿™ä¸ªæ¥å£æ–‡æ¡£ã€‚  
    

**å®šä¹‰æ¥å£è¯·æ±‚å‚æ•°**

ä¸Šé¢ä½¿ç”¨äº†`@ApiOperation`æ¥äº†æè¿°æ¥å£ï¼Œä½†å…¶å®è¿˜ç¼ºå°‘æ¥å£è¯·æ±‚å‚æ•°çš„è¯´æ˜ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åœºæ™¯æ¥è®²ã€‚  
ğŸ”µæ³¨æ„ä¸€ä¸‹ï¼Œå¯¹äº GET æ–¹å¼ï¼Œswagger ä¸æ¨èä½¿ç”¨ body æ–¹å¼æ¥ä¼ é€’æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸å¸Œæœ›åœ¨ GET æ–¹å¼æ—¶ä½¿ç”¨ jsonã€form-data ç­‰æ–¹å¼æ¥ä¼ é€’ï¼Œè¿™æ—¶å€™æœ€å¥½ä½¿ç”¨è·¯å¾„å‚æ•°æˆ–è€… url å‚æ•°ã€‚(ğŸ˜“è™½ç„¶ POSTMAN ç­‰æ˜¯æ”¯æŒçš„)ï¼Œæ‰€ä»¥å¦‚æœæ¥å£ä¼ é€’çš„æ•°æ®æ˜¯ json æˆ–è€… form-data æ–¹å¼çš„ï¼Œè¿˜æ˜¯ä½¿ç”¨ POST æ–¹å¼å¥½ã€‚

**åœºæ™¯ä¸€ï¼šè¯·æ±‚å‚æ•°æ˜¯å®ä½“ç±»ã€‚**

æ­¤æ—¶æˆ‘ä»¬éœ€è¦ä½¿ç”¨`@ApiModel`æ¥æ ‡æ³¨å®ä½“ç±»ï¼Œç„¶ååœ¨æ¥å£ä¸­å®šä¹‰å…¥å‚ä¸ºå®ä½“ç±»å³å¯ï¼š

@ApiModelï¼šç”¨æ¥æ ‡ç±»

å¸¸ç”¨é…ç½®é¡¹ï¼š

valueï¼šå®ä½“ç±»ç®€ç§°

descriptionï¼šå®ä½“ç±»è¯´æ˜

@ApiModelPropertyï¼šç”¨æ¥æè¿°ç±»çš„å­—æ®µçš„æ„ä¹‰ã€‚

å¸¸ç”¨é…ç½®é¡¹ï¼š

valueï¼šå­—æ®µè¯´æ˜

exampleï¼šè®¾ç½®è¯·æ±‚ç¤ºä¾‹ï¼ˆExample Valueï¼‰çš„é»˜è®¤å€¼ï¼Œå¦‚æœä¸é…ç½®ï¼Œå½“å­—æ®µä¸º string çš„æ—¶å€™ï¼Œæ­¤æ—¶è¯·æ±‚ç¤ºä¾‹ä¸­é»˜è®¤å€¼ä¸º "".nameï¼šç”¨æ–°çš„å­—æ®µåæ¥æ›¿ä»£æ—§çš„å­—æ®µåã€‚

allowableValuesï¼šé™åˆ¶å€¼å¾—èŒƒå›´ï¼Œä¾‹å¦‚`{1,2,3}`ä»£è¡¨åªèƒ½å–è¿™ä¸‰ä¸ªå€¼ï¼›`[1,5]`ä»£è¡¨å– 1 åˆ° 5 çš„å€¼ï¼›`(1,5)`ä»£è¡¨ 1 åˆ° 5 çš„å€¼ï¼Œä¸åŒ…æ‹¬ 1 å’Œ 5ï¼›è¿˜å¯ä»¥ä½¿ç”¨ infinity æˆ– - infinity æ¥æ— é™å€¼ï¼Œæ¯”å¦‚`[1, infinity]`ä»£è¡¨æœ€å°å€¼ä¸º 1ï¼Œæœ€å¤§å€¼æ— ç©·å¤§ã€‚

requiredï¼šæ ‡è®°å­—æ®µæ˜¯å¦å¿…å¡«ï¼Œé»˜è®¤æ˜¯ false,

hiddenï¼šç”¨æ¥éšè—å­—æ®µï¼Œé»˜è®¤æ˜¯ falseï¼Œå¦‚æœè¦éšè—éœ€è¦ä½¿ç”¨ trueï¼Œå› ä¸ºå­—æ®µé»˜è®¤éƒ½ä¼šæ˜¾ç¤ºï¼Œå°±ç®—æ²¡æœ‰`@ApiModelProperty`ã€‚

```
// å…ˆä½¿ç”¨@ApiModelæ¥æ ‡æ³¨ç±»
@ApiModel(value="ç”¨æˆ·ç™»å½•è¡¨å•å¯¹è±¡",description="ç”¨æˆ·ç™»å½•è¡¨å•å¯¹è±¡")
public class LoginForm {
Â // ä½¿ç”¨ApiModelPropertyæ¥æ ‡æ³¨å­—æ®µå±æ€§ã€‚
Â @ApiModelProperty(value = "ç”¨æˆ·å",required = true,example = "root")
Â private String username;
Â @ApiModelProperty(value = "å¯†ç ",required = true,example = "123456")
Â private String password;
Â 
Â // æ­¤å¤„çœç•¥å…¥å‚èµ‹å€¼æ—¶éœ€è¦çš„getter,setter,swaggerä¹Ÿéœ€è¦è¿™ä¸ª
}
```

å®šä¹‰æˆå…¥å‚ï¼š

```
@ApiOperation(value = "ç™»å½•æ¥å£",notes = "ç™»å½•æ¥å£çš„è¯´æ˜")
@PostMapping("/login")
public LoginForm login(@RequestBody LoginForm loginForm){
return loginForm;
}
```

æ•ˆæœï¼š

![](https://img.jbzj.com/file_images/article/202007/2020071411073150.png)

åœºæ™¯äºŒï¼šè¯·æ±‚å‚æ•°æ˜¯éå®ä½“ç±»ã€‚

ï¼ˆå†è¯´ä¸€æ¬¡ï¼šå¯¹äº GET æ–¹å¼ï¼Œswagger ä¸æ¨èä½¿ç”¨ body æ–¹å¼æ¥ä¼ é€’æ•°æ®ï¼Œæ‰€ä»¥è™½ç„¶ Spring MVC å¯ä»¥è‡ªåŠ¨å°è£…å‚æ•°ï¼Œä½†å¯¹äº GET è¯·æ±‚è¿˜æ˜¯ä¸è¦ä½¿ç”¨ form-dataï¼Œjson ç­‰æ–¹å¼ä¼ é€’å‚æ•°ï¼Œé™¤éä½ ä½¿ç”¨ Postman æ¥æµ‹è¯•æ¥å£ï¼Œswagger åœ¨çº¿æµ‹è¯•æ˜¯ä¸æ”¯æŒè¿™ä¸ªæ“ä½œçš„ï¼‰

å¯¹äºéå®ä½“ç±»å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨`@ApiImplicitParams`å’Œ`@ApiImplicitParam`æ¥å£°æ˜è¯·æ±‚å‚æ•°ã€‚  
`@ApiImplicitParams`ç”¨åœ¨æ–¹æ³•å¤´ä¸Šï¼Œ`@ApiImplicitParam`å®šä¹‰åœ¨`@ApiImplicitParams`é‡Œé¢ï¼Œä¸€ä¸ª`@ApiImplicitParam`å¯¹åº”ä¸€ä¸ªå‚æ•°ã€‚  
`@ApiImplicitParam`å¸¸ç”¨é…ç½®é¡¹ï¼š

*   nameï¼šç”¨æ¥å®šä¹‰å‚æ•°çš„åå­—ï¼Œä¹Ÿå°±æ˜¯å­—æ®µçš„åå­—, å¯ä»¥ä¸æ¥å£çš„å…¥å‚åå¯¹åº”ã€‚å¦‚æœä¸å¯¹åº”ï¼Œä¹Ÿä¼šç”Ÿæˆï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥å®šä¹‰é¢å¤–å‚æ•°ï¼
*   valueï¼šç”¨æ¥æè¿°å‚æ•°
*   requiredï¼šç”¨æ¥æ ‡æ³¨å‚æ•°æ˜¯å¦å¿…å¡«
*   paramType æœ‰ path,query,body,form,header ç­‰æ–¹å¼ï¼Œä½†å¯¹äºå¯¹äºéå®ä½“ç±»å‚æ•°çš„æ—¶å€™ï¼Œå¸¸ç”¨çš„åªæœ‰ path,query,headerï¼›body å’Œ form æ˜¯ä¸å¸¸ç”¨çš„ã€‚body ä¸é€‚ç”¨äºå¤šä¸ªé›¶æ•£å‚æ•°çš„æƒ…å†µï¼Œåªé€‚ç”¨äº json å¯¹è±¡ç­‰æƒ…å†µã€‚ã€å¦‚æœä½ çš„æ¥å£æ˜¯`form-data`,`x-www-form-urlencoded`çš„æ—¶å€™å¯èƒ½ä¸èƒ½ä½¿ç”¨ swagger é¡µé¢ API è°ƒè¯•ï¼Œä½†å¯ä»¥åœ¨åé¢è®²åˆ°åŸºäº BootstrapUI çš„ swagger å¢å¼ºä¸­è°ƒè¯•ï¼ŒåŸºäº BootstrapUI çš„ swagger æ”¯æŒæŒ‡å®š`form-data`æˆ–`x-www-form-urlencoded`ã€‘  
    

ç¤ºä¾‹ä¸€ï¼šå£°æ˜å…¥å‚æ˜¯ URL å‚æ•°

```
// ä½¿ç”¨URL queryå‚æ•°
@ApiOperation(value = "ç™»å½•æ¥å£2",notes = "ç™»å½•æ¥å£çš„è¯´æ˜2")
@ApiImplicitParams({
Â @ApiImplicitParam(name = "username",//å‚æ•°åå­—
Â Â value = "ç”¨æˆ·å",//å‚æ•°çš„æè¿°
Â Â required = true,//æ˜¯å¦å¿…é¡»ä¼ å…¥
Â Â //paramTypeå®šä¹‰å‚æ•°ä¼ é€’ç±»å‹ï¼šæœ‰path,query,body,form,header
Â Â paramType = "query"
Â Â )
Â ,
Â @ApiImplicitParam(name = "password",//å‚æ•°åå­—
Â Â value = "å¯†ç ",//å‚æ•°çš„æè¿°
Â Â required = true,//æ˜¯å¦å¿…é¡»ä¼ å…¥
Â Â paramType = "query"
Â Â )
})
@PostMapping(value = "/login2")
public LoginForm login2(String username,String password){
System.out.println(username+":"+password);
LoginForm loginForm = new LoginForm();
loginForm.setUsername(username);
loginForm.setPassword(password);
return loginForm;
}
```

ç¤ºä¾‹äºŒï¼šå£°æ˜å…¥å‚æ˜¯ URL è·¯å¾„å‚æ•°

```
// ä½¿ç”¨è·¯å¾„å‚æ•°
@PostMapping("/login3/{id1}/{id2}")
@ApiOperation(value = "ç™»å½•æ¥å£3",notes = "ç™»å½•æ¥å£çš„è¯´æ˜3")
@ApiImplicitParams({
Â @ApiImplicitParam(name = "id1",//å‚æ•°åå­—
Â Â value = "ç”¨æˆ·å",//å‚æ•°çš„æè¿°
Â Â required = true,//æ˜¯å¦å¿…é¡»ä¼ å…¥
Â Â //paramTypeå®šä¹‰å‚æ•°ä¼ é€’ç±»å‹ï¼šæœ‰path,query,body,form,header
Â Â paramType = "path"
Â )
Â ,
Â @ApiImplicitParam(name = "id2",//å‚æ•°åå­—
Â Â value = "å¯†ç ",//å‚æ•°çš„æè¿°
Â Â required = true,//æ˜¯å¦å¿…é¡»ä¼ å…¥
Â Â paramType = "path"
Â )
})
public String login3(@PathVariable Integer id1,@PathVariable Integer id2){
return id1+":"+id2;
}
```

ç¤ºä¾‹ä¸‰ï¼šå£°æ˜å…¥å‚æ˜¯ header å‚æ•°

```
// ç”¨headerä¼ é€’å‚æ•°
@PostMapping("/login4")
@ApiOperation(value = "ç™»å½•æ¥å£4",notes = "ç™»å½•æ¥å£çš„è¯´æ˜4")
@ApiImplicitParams({
Â @ApiImplicitParam(name = "username",//å‚æ•°åå­—
Â Â value = "ç”¨æˆ·å",//å‚æ•°çš„æè¿°
Â Â required = true,//æ˜¯å¦å¿…é¡»ä¼ å…¥
Â Â //paramTypeå®šä¹‰å‚æ•°ä¼ é€’ç±»å‹ï¼šæœ‰path,query,body,form,header
Â Â paramType = "header"
Â )
Â ,
Â @ApiImplicitParam(name = "password",//å‚æ•°åå­—
Â Â value = "å¯†ç ",//å‚æ•°çš„æè¿°
Â Â required = true,//æ˜¯å¦å¿…é¡»ä¼ å…¥
Â Â paramType = "header"
Â )
})
public String login4( @RequestHeader String username,
Â Â Â @RequestHeader String password){
return username+":"+password;
}
```

ç¤ºä¾‹å››ï¼šå£°æ˜æ–‡ä»¶ä¸Šä¼ å‚æ•°

```
// æœ‰æ–‡ä»¶ä¸Šä¼ æ—¶è¦ç”¨@ApiParamï¼Œç”¨æ³•åŸºæœ¬ä¸@ApiImplicitParamä¸€æ ·ï¼Œä¸è¿‡@ApiParamç”¨åœ¨å‚æ•°ä¸Š
// æˆ–è€…ä½ ä¹Ÿå¯ä»¥ä¸æ³¨è§£ï¼Œswaggerä¼šè‡ªåŠ¨ç”Ÿæˆè¯´æ˜
@ApiOperation(value = "ä¸Šä¼ æ–‡ä»¶",notes = "ä¸Šä¼ æ–‡ä»¶")
@PostMapping(value = "/upload")
public String upload(@ApiParam(value = "å›¾ç‰‡æ–‡ä»¶", required = true)MultipartFile uploadFile){
String originalFilename = uploadFile.getOriginalFilename();
return originalFilename;
}
// å¤šä¸ªæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œ\*\*swaggeråªèƒ½æµ‹è¯•å•æ–‡ä»¶ä¸Šä¼ \*\*
@ApiOperation(value = "ä¸Šä¼ å¤šä¸ªæ–‡ä»¶",notes = "ä¸Šä¼ å¤šä¸ªæ–‡ä»¶")
@PostMapping(value = "/upload2",consumes = "multipart/\*", headers = "content-type=multipart/form-data")
public String upload2(@ApiParam(value = "å›¾ç‰‡æ–‡ä»¶", required = true,allowMultiple = true)MultipartFile\[\] uploadFile){
StringBuffer sb = new StringBuffer();
for (int i = 0; i < uploadFile.length; i++) {
Â System.out.println(uploadFile\[i\].getOriginalFilename());
Â sb.append(uploadFile\[i\].getOriginalFilename());
Â sb.append(",");
}
return sb.toString();
}
// æ—¢æœ‰æ–‡ä»¶ï¼Œåˆæœ‰å‚æ•°
@ApiOperation(value = "æ—¢æœ‰æ–‡ä»¶ï¼Œåˆæœ‰å‚æ•°",notes = "æ—¢æœ‰æ–‡ä»¶ï¼Œåˆæœ‰å‚æ•°")
@PostMapping(value = "/upload3")
@ApiImplicitParams({
Â @ApiImplicitParam(name = "name",
Â Â value = "å›¾ç‰‡æ–°åå­—",
Â Â required = true
Â )
})
public String upload3(@ApiParam(value = "å›¾ç‰‡æ–‡ä»¶", required = true)MultipartFile uploadFile,
Â Â Â String name){
String originalFilename = uploadFile.getOriginalFilename();
return originalFilename+":"+name;
}
```

**å®šä¹‰æ¥å£å“åº”**

å®šä¹‰æ¥å£å“åº”ï¼Œæ˜¯æ–¹ä¾¿æŸ¥çœ‹æ¥å£æ–‡æ¡£çš„äººèƒ½å¤ŸçŸ¥é“æ¥å£è¿”å›çš„æ•°æ®çš„æ„ä¹‰ã€‚

å“åº”æ˜¯å®ä½“ç±»ï¼š

å‰é¢åœ¨å®šä¹‰æ¥å£è¯·æ±‚å‚æ•°çš„æ—¶å€™æœ‰æåˆ°ä½¿ç”¨`@ApiModel`æ¥æ ‡æ³¨ç±»ï¼Œå¦‚æœæ¥å£è¿”å›äº†è¿™ä¸ªç±»ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¸Šçš„è¯´æ˜ä¹Ÿä¼šä½œä¸ºå“åº”çš„è¯´æ˜ï¼š

```
// è¿”å›è¢«@ApiModelæ ‡æ³¨çš„ç±»å¯¹è±¡
@ApiOperation(value = "å®ä½“ç±»å“åº”",notes = "è¿”å›æ•°æ®ä¸ºå®ä½“ç±»çš„æ¥å£")
@PostMapping("/role1")
public LoginForm role1(@RequestBody LoginForm loginForm){
return loginForm;
}
```

![](https://img.jbzj.com/file_images/article/202007/2020071411073151.png)

å“åº”æ˜¯éå®ä½“ç±»ï¼š

swagger æ— æ³•å¯¹éå®ä½“ç±»çš„å“åº”è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼Œåªèƒ½æ ‡æ³¨å“åº”ç ç­‰ä¿¡æ¯ã€‚æ˜¯é€šè¿‡`@ApiResponses`å’Œ`@ApiResponse`æ¥å®ç°çš„ã€‚  
`@ApiResponses`å’Œ`@ApiResponse`å¯ä»¥ä¸`@ApiModel`ä¸€èµ·ä½¿ç”¨ã€‚

```
// å…¶ä»–ç±»å‹çš„,æ­¤æ—¶ä¸èƒ½å¢åŠ å­—æ®µæ³¨é‡Šï¼Œæ‰€ä»¥å…¶å®swaggeræ¨èä½¿ç”¨å®ä½“ç±»
@ApiOperation(value = "éå®ä½“ç±»",notes = "éå®ä½“ç±»")
@ApiResponses({
Â @ApiResponse(code=200,message = "è°ƒç”¨æˆåŠŸ"),
Â @ApiResponse(code=401,message = "æ— æƒé™" )
}
)
@PostMapping("/role2")
public String role2(){
return " {\\n" +
Â " name:\\"å¹¿ä¸œ\\",\\n" +
Â " citys:{\\n" +
Â "Â  city:\[\\"å¹¿å·\\",\\"æ·±åœ³\\",\\"ç æµ·\\"\]\\n" +
Â " }\\n" +
Â " }";
}
```

![](https://img.jbzj.com/file_images/article/202007/2020071411073152.png)

Swagger UI å¢å¼º

ä½ å¯èƒ½ä¼šè§‰å¾—ç°åœ¨è¿™ä¸ª UI ä¸æ˜¯å¾ˆå¥½çœ‹ï¼Œç°åœ¨æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹æä¾›äº†ä¸€äº› Swagger UI å¢å¼ºï¼Œæ¯”è¾ƒæµè¡Œçš„æ˜¯`swagger-bootstrap-ui`ï¼Œæˆ‘ä»¬è¿™é‡Œä»¥`swagger-bootstrap-ui`ä¸ºä¾‹ã€‚

UI å¯¹æ¯”ï¼š

![](https://img.jbzj.com/file_images/article/202007/2020071411073153.png)

![](https://img.jbzj.com/file_images/article/202007/2020071411073254.png)

ä½¿ç”¨

1\. æ·»åŠ ä¾èµ–åŒ…ï¼š

```
<!--å¼•å…¥swagger-->
<dependency>
Â <groupId>io.springfox</groupId>
Â <artifactId>springfox-swagger2</artifactId>
Â <version>2.9.2</version>
</dependency>
<dependency>
Â <groupId>io.springfox</groupId>
Â <artifactId>springfox-swagger-ui</artifactId>
Â <version>2.9.2</version>
</dependency>
<!-- å¼•å…¥swagger-bootstrap-uiä¾èµ–åŒ…-->
<dependency>
Â <groupId>com.github.xiaoymin</groupId>
Â <artifactId>swagger-bootstrap-ui</artifactId>
Â <version>1.8.7</version>
</dependency>
```

2\. åœ¨ swagger é…ç½®ç±»ä¸­å¢åŠ æ³¨è§£`@EnableSwaggerBootstrapUI`:

```
@Configuration // æ ‡æ˜æ˜¯é…ç½®ç±»
@EnableSwagger2 //å¼€å¯swaggeråŠŸèƒ½
@EnableSwaggerBootstrapUI // å¼€å¯SwaggerBootstrapUI
public class SwaggerConfig {
Â // çœç•¥é…ç½®å†…å®¹
}
```

3\. è®¿é—® APIï¼š`http://localhost:8080/doc.html`ï¼Œå³å¯é¢„è§ˆåˆ°åŸºäº bootstarp çš„ Swagger UI ç•Œé¢ã€‚

**ä¼˜ç‚¹**

1.ğŸ¤”ç•Œé¢å¥½çœ‹äº†ä¸€ç‚¹

2\. ä¸Šé¢è¯´è¿‡äº†ï¼ŒåŸºäº BootstrapUI çš„ swagger æ”¯æŒæŒ‡å®š`form-data`æˆ–`x-www-form-urlencoded`ï¼š

![](https://img.jbzj.com/file_images/article/202007/2020071411073255.png)

3\. æ”¯æŒå¤åˆ¶å•ä¸ª API æ–‡æ¡£å’Œå¯¼å‡ºå…¨éƒ¨ API æ–‡æ¡£ï¼š

![](https://img.jbzj.com/file_images/article/202007/2020071411073256.png)

![](https://img.jbzj.com/file_images/article/202007/2020071411073257.png)

**æ•´åˆ Spring Security æ³¨æ„**

åœ¨ Spring Boot æ•´åˆ Spring Security å’Œ Swagger çš„æ—¶å€™ï¼Œéœ€è¦é…ç½®æ‹¦æˆªçš„è·¯å¾„å’Œæ”¾è¡Œçš„è·¯å¾„ï¼Œæ³¨æ„æ˜¯æ”¾è¡Œä»¥ä¸‹å‡ ä¸ªè·¯å¾„ã€‚

```
.antMatchers("/swagger\*\*/\*\*").permitAll()
.antMatchers("/webjars/\*\*").permitAll()
.antMatchers("/v2/\*\*").permitAll()
.antMatchers("/doc.html").permitAll() // å¦‚æœä½ ç”¨äº†bootstarpçš„Swagger UIç•Œé¢ï¼ŒåŠ ä¸€ä¸ªè¿™ä¸ªã€‚
```

**å¯¹äº token çš„å¤„ç†**

åœ¨ swagger ä¸­åªæ”¯æŒäº†ç®€å•çš„è°ƒè¯•ï¼Œä½†å¯¹äºä¸€äº›æ¥å£ï¼Œæˆ‘ä»¬æµ‹è¯•çš„æ—¶å€™å¯èƒ½éœ€è¦æŠŠ token ä¿¡æ¯å†™åˆ° header ä¸­ï¼Œç›®å‰å¥½åƒæ²¡çœ‹åˆ°å¯ä»¥è‡ªå®šä¹‰åŠ è¯·æ±‚å¤´çš„åœ°æ–¹ï¼Ÿ  
ğŸ’¡æ–¹æ³•ä¸€ï¼š  
ã€€ã€€å¦‚æœä½ ä½¿ç”¨äº† Swagger BootstrapUIï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ â€œæ–‡æ¡£ç®¡ç†â€ ä¸­å¢åŠ å…¨å±€å‚æ•°ï¼Œè¿™åŒ…æ‹¬äº†æ·»åŠ  header å‚æ•°ã€‚

ğŸ’¡æ–¹æ³•äºŒï¼šåœ¨ swagger é…ç½®ç±»ä¸­å¢åŠ å…¨å±€å‚æ•°é…ç½®ï¼š

```
//å¦‚æœæœ‰é¢å¤–çš„å…¨å±€å‚æ•°ï¼Œæ¯”å¦‚è¯´è¯·æ±‚å¤´å‚æ•°ï¼Œå¯ä»¥è¿™æ ·æ·»åŠ 
Â ParameterBuilder parameterBuilder = new ParameterBuilder();
Â List<Parameter> parameters = new ArrayList<Parameter>();
Â parameterBuilder.name("authorization").description("ä»¤ç‰Œ")
Â Â .modelRef(new ModelRef("string")).parameterType("header").required(false).build();
Â parameters.add(parameterBuilder.build());
Â return new Docket(DocumentationType.SWAGGER\_2) // DocumentationType.SWAGGER\_2 å›ºå®šçš„ï¼Œä»£è¡¨swagger2
Â Â .apiInfo(apiInfo()) // ç”¨äºç”ŸæˆAPIä¿¡æ¯
Â Â .select() // select()å‡½æ•°è¿”å›ä¸€ä¸ªApiSelectorBuilderå®ä¾‹,ç”¨æ¥æ§åˆ¶æ¥å£è¢«swaggeråšæˆæ–‡æ¡£
Â Â .apis(RequestHandlerSelectors.basePackage("com.example.controller")) // ç”¨äºæŒ‡å®šæ‰«æå“ªä¸ªåŒ…ä¸‹çš„æ¥å£
Â Â .paths(PathSelectors.any())// é€‰æ‹©æ‰€æœ‰çš„API,å¦‚æœä½ æƒ³åªä¸ºéƒ¨åˆ†APIç”Ÿæˆæ–‡æ¡£ï¼Œå¯ä»¥é…ç½®è¿™é‡Œ
Â Â .build().globalOperationParameters(parameters);
```

ğŸ’¡æ–¹æ³•ä¸‰ï¼šä½¿ç”¨`@ApiImplicitParams`æ¥é¢å¤–æ ‡æ³¨ä¸€ä¸ªè¯·æ±‚å¤´å‚æ•°ï¼Œä¾‹å¦‚ï¼š

```
// å¦‚æœéœ€è¦é¢å¤–çš„å‚æ•°ï¼Œéæœ¬æ–¹æ³•ç”¨åˆ°ï¼Œä½†è¿‡æ»¤å™¨è¦ç”¨,ç±»ä¼¼äºæƒé™token
@PostMapping("/login6")
@ApiOperation(value = "å¸¦tokençš„æ¥å£",notes = "å¸¦tokençš„æ¥å£")
@ApiImplicitParams({
Â @ApiImplicitParam(name = "authorization",//å‚æ•°åå­—
Â Â value = "æˆæƒtoken",//å‚æ•°çš„æè¿°
Â Â required = true,//æ˜¯å¦å¿…é¡»ä¼ å…¥
Â Â paramType = "header"
Â )
Â ,
Â @ApiImplicitParam(name = "username",//å‚æ•°åå­—
Â Â value = "ç”¨æˆ·å",//å‚æ•°çš„æè¿°
Â Â required = true,//æ˜¯å¦å¿…é¡»ä¼ å…¥
Â Â paramType = "query"
Â )
})
public String login6(String username){
return username;
}
```

**Swagger çš„å®‰å…¨ç®¡ç†**

1\. å¦‚æœä½ æ•´åˆäº†æƒé™ç®¡ç†ï¼Œå¯ä»¥ç»™ swagger åŠ ä¸Šæƒé™ç®¡ç†ï¼Œè¦æ±‚è®¿é—® swagger é¡µé¢è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™äº›æ˜¯ spring security å’Œ shiro çš„äº‹äº†ï¼Œè¿™é‡Œä¸è®²ã€‚

2\. å¦‚æœä½ ä»…ä»…æ˜¯ä¸æƒ³åœ¨æ­£å¼ç¯å¢ƒä¸­å¯ä»¥è®¿é—®ï¼Œå¯ä»¥åœ¨æ­£å¼ç¯å¢ƒä¸­å…³é—­ Swagger è‡ªåŠ¨é…ç½®ï¼Œè¿™å°±ä¸ä¼šæœ‰ swagger é¡µé¢äº†ã€‚ä½¿ç”¨`@Profile({"dev","test"})`æ³¨è§£æ¥é™åˆ¶åªåœ¨ dev æˆ–è€… test ä¸‹å¯ç”¨ Swagger è‡ªåŠ¨é…ç½®ã€‚  
ç„¶ååœ¨ Spring Boot é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹å½“å‰ profile`spring.profiles.active=release`ï¼Œé‡å¯ä¹‹åï¼Œæ­¤æ—¶æ— æ³•è®¿é—®`http://localhost:8080/swagger-ui.html`

åˆ°æ­¤è¿™ç¯‡å…³äº Spring Boot æ•´åˆ swagger ä½¿ç”¨æ•™ç¨‹çš„æ–‡ç« å°±ä»‹ç»åˆ°è¿™äº†, æ›´å¤šç›¸å…³ Spring Boot æ•´åˆ swagger å†…å®¹è¯·æœç´¢è„šæœ¬ä¹‹å®¶ä»¥å‰çš„æ–‡ç« æˆ–ç»§ç»­æµè§ˆä¸‹é¢çš„ç›¸å…³æ–‡ç« å¸Œæœ›å¤§å®¶ä»¥åå¤šå¤šæ”¯æŒè„šæœ¬ä¹‹å®¶ï¼